<body>
  <!-- Partículas flotantes -->
  <div class="particle" style="left: 10%; animation-delay: 0s;"></div>
  <div class="particle" style="left: 20%; animation-delay: 2s;"></div>
  <div class="particle" style="left: 30%; animation-delay: 4s;"></div>
  <div class="particle" style="left: 40%; animation-delay: 1s;"></div>
  <div class="particle" style="left: 50%; animation-delay: 3s;"></div>
  <div class="particle" style="left: 60%; animation-delay: 5s;"></div>
  <div class="particle" style="left: 70%; animation-delay: 2.5s;"></div>
  <div class="particle" style="left: 80%; animation-delay: 4.5s;"></div>
  <div class="particle" style="left: 90%; animation-delay: 1.5s;"></div>

  <div class="container">
    <div class="form-container">
            <a class="close-button" [routerLink]="['/']" aria-label="Cerrar">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
          stroke-linecap="round" stroke-linejoin="round">
          <line x1="18" y1="6" x2="6" y2="18" />
          <line x1="6" y1="6" x2="18" y2="18" />
        </svg>
      </a>
      <h1 class="title">Registro</h1>

      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <label class="form-label" for="email">Email</label>
          <input type="email" id="email" class="form-input" placeholder="tu@email.com" formControlName="email"
            required />
          <div class="error-messages" id="emailErrors"
            *ngIf="registerForm.get('email')?.invalid && registerForm.get('email')?.touched">
            <small *ngIf="registerForm.get('email')?.errors?.['required']">El email es obligatorio.</small>
            <small *ngIf="registerForm.get('email')?.errors?.['email']">Email inválido.</small>
          </div>
        </div>

        <div class="form-group">
          <label class="form-label" for="fullName">Nombre Completo</label>
          <input type="text" id="fullName" class="form-input" placeholder="Tu nombre completo"
            formControlName="fullName" required minlength="3" />
          <div class="error-messages" id="fullNameErrors"
            *ngIf="registerForm.get('fullName')?.invalid && registerForm.get('fullName')?.touched">
            <small *ngIf="registerForm.get('fullName')?.errors?.['required']">El nombre es obligatorio.</small>
            <small *ngIf="registerForm.get('fullName')?.errors?.['minlength']">Mínimo 3 caracteres.</small>
          </div>
        </div>

        <div class="form-group">
          <label class="form-label" for="password">Contraseña</label>
          <input type="password" id="password" class="form-input" placeholder="Mínimo 6 caracteres"
            formControlName="password" required minlength="6" />
          <div class="error-messages" id="passwordErrors"
            *ngIf="registerForm.get('password')?.invalid && registerForm.get('password')?.touched">
            <small *ngIf="registerForm.get('password')?.errors?.['required']">La contraseña es obligatoria.</small>
            <small *ngIf="registerForm.get('password')?.errors?.['minlength']">Mínimo 6 caracteres.</small>
          </div>
        </div>

        <div id="globalError" class="global-error" *ngIf="errorMessage">
          {{ errorMessage }}
        </div>


        <button type="submit" class="submit-button" id="submitButton" [disabled]="registerForm.invalid || loading">
          <span id="buttonText">{{ loading ? 'Registrando...' : 'Registrarse' }}</span>
        </button>
        <div class="register-link">
          ¿Ya tienes una cuenta?
          <a [routerLink]="['/auth/login']" class="text-secondary">Inicia Aquí</a>
        </div>

      </form>
    </div>
  </div>
</body>
